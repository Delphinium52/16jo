<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  </head>

<!-- body -->
<body>
<form id="join">
    <div class="row justify-content-center mt-5">
        <div class="col-4"></div>
        <div class="col-4 justify-content-center" id="title">
            <h6 class="fw-bold fs-2 mb-5 text-center">회원가입</h6> 
        </div>
        <div class="col-4"></div>
    </div>
    <div class="row justify-content-center">
        <div class="col-4"></div>
        <div class="col-4 justify-content-center" id="contents">
            <h6 class="fw-bold">ID</h6>
            <input class="input-box mb-2" type="text" name="id" placeholder="아이디를 입력하세요" required><br>
            <h6 class="fw-bold">Name</h6>
            <input class="input-box mb-2" type="text" name="user_name" placeholder="이름을 입력하세요" required><br>
            <h6 class="fw-bold">Email</h6>
            <input class="input-box mb-2" type="text" name="email" placeholder="이메일 주소를 입력하세요"><br>
            <h6 class="fw-bold">Password</h6>
            <input class="input-box mb-2" type="password" name="pw" placeholder="비밀번호를 입력하세요" required><br>
        </div>
        <div class="col-4"></div>
    </div>
    <div class="row justify-content-center mt-3">
        <div class="col-4"></div>
        <div class="col-4" id="button-group">
            <button class="join-button" type="button" onclick="joinuser();" >회원가입</button>        
        </div>
        <div class="col-4"></div>
    </div>
    <div class="row justify-content-center mt-3">
        <div class="col-4"></div>
        <div class="col-4" id="button-group">
            <button class="join-button" type="button" onclick="location.href='login';">로그인 하러가기</button>   
        </div>
        <div class="col-4"></div>
    </div>
   
</form>
</body>
<!-- script -->
<script>
    function joinuser() {
    var form = document.getElementById("join");
    const data = {
            member_id: form.id.value,
            user_name: form.name.value,
            email: form.email.value,
            pw: form.pw.value
        }
    axios({
        method: 'post',
        url: 'http://localhost:3300/join',
        data: data
    }).then((response) => {
        return response.data;
    }).then((data) => {

        console.log(data);
        //회원 가입이 완료되었습니다.
        let html = "<h6 class='fw-bold text-center mt-5'>회원가입이 완료되었습니다!</h6>"
        document.getElementById("contents").innerHTML = html;
    })
}
</script>
